@import '../config'

.parent
	position relative
	max-width 100%
	display inline-block

	&:not(.block) + .parent:not(.block)
		margin-left 16px

	svg
		position absolute
		color $darkGrayLight
		@media (prefers-color-scheme dark)
			color $darkGrayDark
		transition color $transition
		pointer-events none
		&.iconClickable
			pointer-events all
			cursor pointer
		top 14px
		&.left
			left 16px // input padding-left

			~ label
				left 16px + 24px + 10px

		&.right
			right 16px

	select
		appearance none

		option
			background $foregroundLight
			color black
			@media (prefers-color-scheme dark)
				background lighten($foregroundDark, 5%)
				color white

	textarea
		resize none
		overflow-y hidden


	/* Remove the arrows from the Number Input */
	input[type="number"]
		-moz-appearance textfield

	input::-webkit-outer-spin-button
	input::-webkit-inner-spin-button
		-webkit-appearance none
		margin 0
	/* End */

	.autocomplete
		opacity 0
		transition all $transition
		overflow-x hidden
		pointer-events none
		position absolute
		top calc(100% + 16px)
		left 0
		width 100%
		z-index 100
		max-height 25vh
		overflow-y auto
		@media (max-width $mobile)
			max-height 50vh
		&.reverse
			top initial
			bottom calc(100% + 16px)

	div + .autocomplete
		top 100%

	input:focus ~ .autocomplete
	select:focus ~ .autocomplete
	textarea:focus ~ .autocomplete
	.autocomplete:hover
		opacity 1
		pointer-events inherit

	input
	select
	textarea
		padding 12px
		border-radius 8px
		max-width 100%
		font-size .875rem
		outline none
		background $lightGrayLight
		transition all $transition
		border 2px solid $darkGrayLight
		color black
		@media (prefers-color-scheme dark)
			background $lightGrayDark
			border-color $darkGrayDark
			color white

		&::placeholder
			font-weight 700
			font-size rem(16)
			transition color $transition
			opacity 1
			// color $darkGrayLight
			// @media (prefers-color-scheme dark)
			// 	color $darkGrayDark

			color black
			@media (prefers-color-scheme dark)
				color white


		&:disabled
			border-color #999

			@media (prefers-color-scheme dark)
				border-color #444
				~label
					color #444
			~ label
				color #999

		&:not(:disabled)
			&:hover
				border-color black
				@media (prefers-color-scheme dark)
					border-color white

				~ svg
				&::placeholder
					color black

					@media (prefers-color-scheme dark)
						color white
			&:focus
				border-color $main

				~ label
					color @border-color

				~ svg
					color @border-color
				// &::placeholder
				// 	color black

				// 	@media (prefers-color-scheme dark)
				// 		color white

			&:invalid
				border-color $errorLight

				~ label
					color @border-color

				~ svg
					color @border-color
				@media (prefers-color-scheme dark)
					border-color $errorDark

					~ label
						color @border-color

					~ svg
						color @border-color


		&.iconLeft
			padding-left 16px + 24px + 10px
		&.iconRight
			padding-right 16 + 24 + 10px

		~ svg.rotate
			transform rotateX(0)
			transition $transition

		&:focus ~ svg.rotate
		~ .autocomplete:hover ~ svg.rotate
			transform rotateX(180deg)

	p
		padding 0 8px
		font-size rem(14)

	&.block
	&.block input
	&.block select
	&.block textarea
		width 100%
		display block
